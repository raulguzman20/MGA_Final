import{r as y,ab as fe,j as e,B as c,T as l,P as Y,ac as ge,b as C,F as Z,S as ae,M as j,w as je,I as q,d as ye,ad as xe,ae as H,a0 as Ce,a1 as ve,a2 as Se,a9 as ke,C as Ie,af as ze,c as he,ag as M,G as pe,x as Fe}from"./index-D2WH0i0l.js";import{S as we,F as We,E as Me,D as Te,a as Pe,C as G}from"./Search-CIHESQ8V.js";import{A as Re,P as Ae,N as Be}from"./NavigateNext-C2-Nd8B6.js";import{T as ne,a as oe,b as le,c as B,d as b,e as de}from"./TableRow-CTBWTERd.js";import{S as Le}from"./Stack-BupWGgAE.js";import{C as V}from"./Checkbox-4ec6YfyB.js";import{R as Oe,a as $e,S as Ee}from"./Switch-qiKByfkr.js";import{F as U}from"./FormControlLabel-CLvj0mWI.js";const Qe=({data:_,columns:L,onEdit:v,onDelete:k,onCancel:I,onCreate:T,onView:z,title:N,pagination:d,customFilters:O={},showEditButton:o=!0,showDeleteButton:P=!0,showCancelButton:$=!0,showViewButton:X=!0})=>{const[a,f]=y.useState(0),[S,ee]=y.useState(5),[E,r]=y.useState(""),[i,h]=y.useState("all"),[p,g]=y.useState(null),[s,u]=y.useState({}),[m,w]=y.useState({}),R=(t,n)=>{w({...m,[t]:n.currentTarget})},J=t=>{w({...m,[t]:null})},A=(t,n)=>{u({...s,[t]:n}),J(t)},me=t=>{g(t.currentTarget)},ce=()=>{g(null)},re=t=>{h(t),ce()},{darkMode:x}=y.useContext(fe),W=(t,n)=>{f(n)},ue=t=>{ee(Number.parseInt(t.target.value,10)),f(0)},K=_.filter(t=>{const n=!E||L.some(Q=>String(t[Q.id]).toLowerCase().includes(E.toLowerCase()));let D=!0;i!=="all"&&(typeof t.estado=="boolean"?D=i==="active"&&t.estado===!0||i==="inactive"&&t.estado===!1:typeof t.estado=="string"&&(D=i===t.estado));let se=!0;return Object.keys(s).forEach(Q=>{const ie=s[Q];ie&&ie!=="all"&&(se=se&&t[Q]===ie)}),n&&D&&se}),be=K.slice(a*S,a*S+S),F=Math.ceil(K.length/S),te=[];for(let t=0;t<F;t++)te.push(t);return e.jsxs(c,{sx:{p:2,height:"auto",width:"100%",backgroundColor:x?"#1e1e1e":"#ffffff",color:x?"#ffffff":"#333333",borderRadius:2,boxShadow:"none",fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,width:"100%"},children:[e.jsx(l,{variant:"h6",component:"h2",sx:{fontSize:"1rem",fontWeight:"600",color:x?"#ffffff":"#333",fontFamily:'"Inter", sans-serif'},children:N}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(c,{sx:{display:"flex",gap:2},children:e.jsxs(Y,{component:"form",sx:{p:"2px 8px",display:"flex",alignItems:"center",width:240,border:x?"1px solid rgba(255, 255, 255, 0.12)":"1px solid #e0e0e0",borderRadius:2,boxShadow:"none",backgroundColor:x?"#2d2d2d":"#ffffff"},children:[e.jsx(we,{sx:{color:x?"#aaaaaa":"#9e9e9e",fontSize:"1.2rem"}}),e.jsx(ge,{sx:{ml:1,flex:1,fontFamily:'"Inter", sans-serif',fontSize:"0.875rem",color:x?"#ffffff":"inherit"},placeholder:"Buscar...",value:E,onChange:t=>r(t.target.value)})]})}),T&&e.jsx(C,{variant:"contained",onClick:T,sx:{backgroundColor:"#0455a2",color:"white",textTransform:"none",fontFamily:'"Inter", sans-serif',fontSize:"0.875rem",fontWeight:500,px:2,py:.75,borderRadius:1,"&:hover":{backgroundColor:"#034089"}},children:"Crear Nuevo"})]})]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",mb:2,width:"100%",justifyContent:"flex-start"},children:[e.jsx(l,{variant:"body2",sx:{mr:1,color:"#666",fontFamily:'"Inter", sans-serif',fontSize:"0.875rem"},children:"Mostrar"}),e.jsx(Z,{size:"small",children:e.jsxs(ae,{value:S,onChange:ue,IconComponent:Re,sx:{minWidth:60,height:32,fontFamily:'"Inter", sans-serif',fontSize:"0.875rem","& .MuiSelect-select":{py:.5,pl:1.5},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#e0e0e0"}},children:[e.jsx(j,{value:5,children:"5"}),e.jsx(j,{value:10,children:"10"}),e.jsx(j,{value:25,children:"25"}),e.jsx(j,{value:50,children:"50"})]})}),e.jsx(l,{variant:"body2",sx:{ml:1,color:"#666",fontFamily:'"Inter", sans-serif',fontSize:"0.875rem"},children:"Registros"})]}),e.jsx(ne,{sx:{boxShadow:"none",border:"none",maxHeight:"none",overflow:"auto",width:"100%","&::-webkit-scrollbar":{height:"8px"},"&::-webkit-scrollbar-thumb":{backgroundColor:x?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"4px"}},children:e.jsxs(oe,{children:[e.jsx(le,{children:e.jsxs(B,{children:[L.map(t=>e.jsx(b,{align:"center",onClick:t.filterOptions?n=>R(t.id,n):t.id==="estado"?me:void 0,sx:{fontWeight:"600",backgroundColor:x?"#2d2d2d":"white",color:x?"#ffffff":"#333",borderBottom:x?"1px solid rgba(255, 255, 255, 0.1)":"1px solid #e0e0e0",py:1.5,fontFamily:'"Inter", sans-serif',fontSize:"0.875rem",cursor:t.filterOptions||t.id==="estado"?"pointer":"default",whiteSpace:"nowrap"},children:e.jsxs(c,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[t.label,(t.filterOptions||t.id==="estado")&&e.jsx(We,{fontSize:"small",sx:{fontSize:"0.875rem",color:s[t.id]&&s[t.id]!=="all"||t.id==="estado"&&i!=="all"?"#4285f4":"inherit",opacity:s[t.id]&&s[t.id]!=="all"||t.id==="estado"&&i!=="all"?1:.5,ml:.5}})]})},t.id)),(v||k||I||z)&&e.jsx(b,{align:"center",sx:{fontWeight:"600",backgroundColor:x?"#2d2d2d":"white",color:x?"#ffffff":"#333",borderBottom:x?"1px solid rgba(255, 255, 255, 0.1)":"1px solid #e0e0e0",py:1.5,fontFamily:'"Inter", sans-serif',fontSize:"0.875rem"},children:"Acciones"})]})}),e.jsx(de,{children:be.map(t=>e.jsxs(B,{hover:!0,sx:{borderBottom:x?"1px solid rgba(255, 255, 255, 0.1)":"1px solid #e0e0e0","&:hover":{backgroundColor:"#7c9427 !important"}},children:[L.map((n,D)=>e.jsx(b,{align:"center",sx:{color:n.id==="office"||n.id==="location"?x?"#90caf9":"#3366ff":x?"#ffffff":"#333",borderBottom:"none",py:1.5,fontFamily:'"Inter", sans-serif',fontSize:"0.875rem",fontWeight:n.id==="office"||n.id==="location"?"500":"400",maxWidth:"250px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D===0&&t.avatar?e.jsxs(c,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1.5},children:[e.jsx(je,{src:t.avatar,alt:t[n.id],sx:{width:36,height:36}}),n.render?n.render(t[n.id],t):t[n.id]]}):n.render?n.render(t[n.id],t):t[n.id]},`${t.id}-${n.id}`)),(v||k||I||z)&&e.jsx(b,{align:"center",sx:{color:"#333",borderBottom:"none",py:1.5},children:e.jsxs(c,{sx:{display:"flex",justifyContent:"center",gap:1},children:[z&&X&&e.jsx(q,{onClick:()=>z(t),size:"small",sx:{color:"#2196f3",padding:"4px"},children:e.jsx(ye,{fontSize:"small"})}),v&&o&&e.jsx(q,{onClick:()=>v(t),size:"small",sx:{color:"#0455a2",padding:"4px"},children:e.jsx(Me,{fontSize:"small"})}),k&&P&&e.jsx(q,{onClick:()=>k(t),size:"small",sx:{color:"#f44336",padding:"4px"},children:e.jsx(Te,{fontSize:"small"})}),I&&$&&e.jsx(q,{onClick:()=>I(t),size:"small",sx:{color:"#f44336",padding:"4px"},children:e.jsx(Pe,{fontSize:"small"})})]})})]},t.id))})]})}),e.jsxs(xe,{anchorEl:p,open:!!p,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{mt:.5,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",borderRadius:1,minWidth:180}},children:[e.jsx(l,{variant:"subtitle2",sx:{px:2,py:1,fontWeight:600,color:x?"#ffffff":"#333",borderBottom:"1px solid #eaeaea",textAlign:"center"},children:"Filtrar por Estado"}),e.jsxs(j,{onClick:()=>re("all"),sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(H,{sx:{minWidth:"auto"},children:i==="all"&&e.jsx(G,{fontSize:"small",sx:{color:"#4285f4"}})}),e.jsx(l,{variant:"body2",children:"Todos"})]}),e.jsxs(j,{onClick:()=>re("active"),sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(H,{sx:{minWidth:"auto"},children:i==="active"&&e.jsx(G,{fontSize:"small",sx:{color:"#4285f4"}})}),e.jsx(l,{variant:"body2",children:"Activos"})]}),e.jsxs(j,{onClick:()=>re("inactive"),sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(H,{sx:{minWidth:"auto"},children:i==="inactive"&&e.jsx(G,{fontSize:"small",sx:{color:"#4285f4"}})}),e.jsx(l,{variant:"body2",children:"Inactivos"})]})]}),L.filter(t=>t.filterOptions).map(t=>e.jsxs(xe,{anchorEl:m[t.id],open:!!m[t.id],onClose:()=>J(t.id),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{mt:.5,boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",borderRadius:1,minWidth:180}},children:[e.jsx(l,{variant:"subtitle2",sx:{px:2,py:1,fontWeight:600,color:x?"#ffffff":"#333",borderBottom:"1px solid #eaeaea",textAlign:"center"},children:`Filtrar por ${t.label}`}),e.jsxs(j,{onClick:()=>A(t.id,"all"),sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(H,{sx:{minWidth:"auto"},children:(!s[t.id]||s[t.id]==="all")&&e.jsx(G,{fontSize:"small",sx:{color:"#4285f4"}})}),e.jsx(l,{variant:"body2",children:"Todos"})]},`filter-option-${t.id}-all`),t.filterOptions.map(n=>e.jsxs(j,{onClick:()=>A(t.id,n.value),sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[e.jsx(H,{sx:{minWidth:"auto"},children:s[t.id]===n.value&&e.jsx(G,{fontSize:"small",sx:{color:"#4285f4"}})}),e.jsx(l,{variant:"body2",children:n.label})]},`filter-option-${t.id}-${n.value}`))]},`filter-menu-${t.id}`)),e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,px:1,width:"100%"},children:[e.jsx(l,{variant:"body2",sx:{color:x?"#aaaaaa":"#666",fontFamily:'"Inter", sans-serif',fontSize:"0.875rem"},children:`Mostrando ${a*S+1} a ${Math.min((a+1)*S,K.length)} de ${K.length} registros`}),e.jsxs(Le,{direction:"row",spacing:.5,sx:{justifyContent:"center"},children:[e.jsx(C,{disabled:a===0,onClick:()=>W(null,a-1),sx:{minWidth:"36px",height:"36px",color:a===0?"#bdbdbd":"#666",border:"1px solid #e0e0e0",borderRadius:"4px",textTransform:"none",fontFamily:'"Inter", sans-serif',"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:e.jsx(Ae,{fontSize:"small"})}),te.length<=5?te.map(t=>e.jsx(C,{variant:a===t?"contained":"outlined",onClick:()=>W(null,t),sx:{minWidth:"36px",height:"36px",backgroundColor:a===t?"#3366ff":"transparent",color:a===t?"white":"#666",border:a===t?"none":"1px solid #e0e0e0",fontFamily:'"Inter", sans-serif',"&:hover":{backgroundColor:a===t?"#3366ff":"rgba(0, 0, 0, 0.04)"}},children:t+1},t)):e.jsxs(e.Fragment,{children:[a>1&&e.jsx(C,{variant:"outlined",onClick:()=>W(null,0),sx:{minWidth:"40px",height:"36px",color:"#666",border:"1px solid #e0e0e0",fontFamily:'"Inter", sans-serif'},children:"1"}),a>2&&e.jsx(l,{sx:{alignSelf:"center",color:"#666"},children:"..."}),a>0&&e.jsx(C,{variant:"outlined",onClick:()=>W(null,a-1),sx:{minWidth:"40px",height:"36px",color:"#666",border:"1px solid #e0e0e0",fontFamily:'"Inter", sans-serif'},children:a}),e.jsx(C,{variant:"contained",sx:{minWidth:"40px",height:"36px",backgroundColor:"#4285f4",color:"white",fontFamily:'"Inter", sans-serif'},children:a+1}),a<F-1&&e.jsx(C,{variant:"outlined",onClick:()=>W(null,a+1),sx:{minWidth:"40px",height:"36px",color:"#666",border:"1px solid #e0e0e0",fontFamily:'"Inter", sans-serif'},children:a+2}),a<F-3&&e.jsx(l,{sx:{alignSelf:"center",color:"#666"},children:"..."}),a<F-2&&e.jsx(C,{variant:"outlined",onClick:()=>W(null,F-1),sx:{minWidth:"40px",height:"36px",color:"#666",border:"1px solid #e0e0e0",fontFamily:'"Inter", sans-serif'},children:F})]}),e.jsx(C,{disabled:a>=F-1,onClick:()=>W(null,a+1),sx:{minWidth:"36px",height:"36px",color:a>=F-1?"#bdbdbd":"#666",border:"1px solid #e0e0e0",borderRadius:"4px",textTransform:"none",fontFamily:'"Inter", sans-serif',"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:e.jsx(Be,{fontSize:"small"})})]})]})]})},Ue=({title:_,subtitle:L,fields:v,initialData:k,open:I,onClose:T,onSubmit:z,submitButtonText:N="Guardar Cambios"})=>{const[d,O]=y.useState({}),[o,P]=y.useState({}),[$,X]=y.useState(!1);y.useEffect(()=>{if(I){if(k)O({...k});else{const r={};v.forEach(i=>{r[i.id]=i.defaultValue||""}),O(r)}P({})}},[k,v,I]);const a=(r,i)=>{if(r.required&&(i==null||i===""))return`${r.label} es requerido`;if(r.validate&&i!==void 0&&i!==null){const h=r.validate(i,d);if(h)return h}if(r.validator&&i!==void 0&&i!==null){const h=r.validator(i);if(h)return h}return null},f=(r,i)=>{const h={...d,[r]:i};O(h);const p=v.find(g=>g.id===r);if(p&&p.validateOnChange){const g=a(p,i);P(s=>({...s,[r]:g}))}else o[r]&&P(g=>({...g,[r]:null}));p&&p.onChange&&p.onChange(i,h,(g,s)=>{O(u=>({...u,[g]:s}))})},S=()=>{const r={};let i=!0;return v.forEach(h=>{const p=a(h,d[h.id]);p&&(r[h.id]=p,i=!1)}),P(r),i},ee=async r=>{if(r.preventDefault(),!$&&S())try{X(!0);const i=z==null?void 0:z(d);i&&typeof i.then=="function"&&await i}finally{X(!1)}},E=r=>{var i,h,p,g;switch(r.type){case"switch":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(U,{control:e.jsx(Ee,{checked:!!d[r.id],onChange:s=>f(r.id,s.target.checked),color:"primary"}),label:r.label,sx:{width:"100%",ml:0,"& .MuiFormControlLabel-label":{flex:1,fontWeight:500}}}),o[r.id]&&e.jsx(M,{error:!0,children:o[r.id]})]},r.id);case"select":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",sx:{mb:.5,fontWeight:500},children:r.label}),e.jsxs(Z,{fullWidth:!0,variant:"outlined",error:!!o[r.id],children:[e.jsxs(ae,{value:d[r.id]||"",onChange:s=>f(r.id,s.target.value),displayEmpty:!0,disabled:r.disabled,sx:{borderRadius:"8px","& .MuiOutlinedInput-notchedOutline":{borderColor:o[r.id]?"error.main":"rgba(0, 0, 0, 0.23)"}},children:[e.jsx(j,{value:"",disabled:!0,children:e.jsxs(l,{color:"text.secondary",children:["Seleccionar ",r.label]})}),(i=r.options)==null?void 0:i.map(s=>e.jsx(j,{value:s.value,children:s.label},s.value))]}),o[r.id]&&e.jsx(M,{children:o[r.id]})]})]},r.id);case"multiSelect":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",sx:{mb:.5,fontWeight:500},children:r.label}),e.jsxs(Z,{fullWidth:!0,variant:"outlined",error:!!o[r.id],children:[e.jsx(ae,{multiple:!0,value:Array.isArray(d[r.id])?d[r.id]:[],onChange:s=>f(r.id,s.target.value),renderValue:s=>s.join(", "),disabled:r.disabled,children:(h=r.options)==null?void 0:h.map(s=>e.jsxs(j,{value:s.value,children:[e.jsx(V,{checked:Array.isArray(d[r.id])&&d[r.id].indexOf(s.value)>-1}),e.jsx(Fe,{primary:s.label})]},s.value))}),o[r.id]&&e.jsx(M,{children:o[r.id]})]})]},r.id);case"checkbox":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(U,{control:e.jsx(V,{checked:!!d[r.id],onChange:s=>f(r.id,s.target.checked),color:"primary",disabled:r.disabled}),label:r.label,sx:{width:"100%",ml:0,"& .MuiFormControlLabel-label":{flex:1,fontWeight:500}}}),o[r.id]&&e.jsx(M,{error:!0,children:o[r.id]})]},r.id);case"checkbox-group":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",sx:{mb:1,fontWeight:500},children:r.label}),e.jsx(Y,{variant:"outlined",sx:{p:2,borderRadius:2},children:e.jsx(pe,{container:!0,spacing:2,children:(p=r.options)==null?void 0:p.map(s=>e.jsx(pe,{item:!0,xs:12,sm:6,children:e.jsx(U,{control:e.jsx(V,{checked:Array.isArray(d[r.id])&&d[r.id].includes(s.value),onChange:u=>{const m=Array.isArray(d[r.id])?d[r.id]:[],w=u.target.checked?[...m,s.value]:m.filter(R=>R!==s.value);f(r.id,w)}}),label:s.label})},s.value))})}),o[r.id]&&e.jsx(M,{error:!0,children:o[r.id]})]},r.id);case"radio":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",sx:{mb:.5,fontWeight:500},children:r.label}),e.jsxs(Z,{fullWidth:!0,error:!!o[r.id],children:[e.jsx(Oe,{value:d[r.id]||"",onChange:s=>f(r.id,s.target.value),children:(g=r.options)==null?void 0:g.map(s=>e.jsx(U,{value:s.value,control:e.jsx($e,{color:"primary",disabled:r.disabled}),label:s.label},s.value))}),o[r.id]&&e.jsx(M,{children:o[r.id]})]})]},r.id);case"password":return e.jsxs(c,{sx:{mb:1},children:[e.jsx(l,{variant:"body2",sx:{mb:.5,fontWeight:500},children:r.label}),e.jsx(he,{fullWidth:!0,size:"small",type:"password",value:d[r.id]||"",onChange:s=>f(r.id,s.target.value),variant:"outlined",placeholder:r.placeholder||"",error:!!o[r.id],helperText:o[r.id],disabled:r.disabled,InputProps:{inputProps:{maxLength:r.maxLength||void 0},sx:{borderRadius:"8px"}}})]},r.id);case"permissionsTable":return e.jsxs(c,{children:[e.jsx(l,{sx:{mb:.5,color:"#666",fontSize:"0.75rem",textDecoration:"none"},children:r.section}),e.jsx(ne,{component:Y,sx:{mt:.5,border:"none",boxShadow:"none",width:"100%","& .MuiTable-root":{tableLayout:"fixed",width:"100%"},"& .MuiTableCell-root":{padding:"2px",fontSize:"0.7rem",height:"24px",lineHeight:"1",whiteSpace:"nowrap"},"& .MuiTableCell-head":{backgroundColor:"#f5f5f5"},"& .MuiCheckbox-root":{padding:0,"& .MuiSvgIcon-root":{fontSize:"16px"}}},children:e.jsxs(oe,{size:"small",children:[e.jsx(le,{children:e.jsxs(B,{children:[e.jsx(b,{sx:{width:"40%"},children:"MÃ³dulo"}),e.jsx(b,{align:"center",sx:{width:"12%"},children:"Ver"}),e.jsx(b,{align:"center",sx:{width:"12%"},children:"Crear"}),e.jsx(b,{align:"center",sx:{width:"12%"},children:"Editar"}),e.jsx(b,{align:"center",sx:{width:"12%"},children:"Eliminar"}),e.jsx(b,{align:"center",sx:{width:"12%"},children:"Descargar"})]})}),e.jsx(de,{children:r.modules.map(s=>e.jsxs(B,{children:[e.jsx(b,{sx:{whiteSpace:"normal",wordBreak:"break-word"},children:s.label}),["visualizar","crear","editar","eliminar","descargar"].map(u=>e.jsx(b,{align:"center",children:e.jsx(V,{size:"small",checked:d[`${s.id}-${u}`]||!1,onChange:m=>f(`${s.id}-${u}`,m.target.checked)})},`${s.id}-${u}`))]},s.id))})]})})]},r.id);case"table":return e.jsxs(c,{sx:{mb:2},children:[e.jsx(l,{variant:"body2",sx:{mb:1,fontWeight:500},children:r.label}),e.jsx(ne,{component:Y,variant:"outlined",children:e.jsxs(oe,{size:"small",children:[e.jsx(le,{children:e.jsx(B,{children:r.columns.map(s=>e.jsx(b,{children:s.label},s.id))})}),e.jsx(de,{children:r.rows.map((s,u)=>e.jsx(B,{children:r.columns.map(m=>{var w,R;return e.jsx(b,{children:m.type==="checkbox"?e.jsx(V,{checked:((R=(w=d[r.id])==null?void 0:w[u])==null?void 0:R[m.id])||!1,onChange:J=>{const A=[...d[r.id]||r.rows];A[u]={...A[u],[m.id]:J.target.checked},f(r.id,A)}}):s[m.id]},m.id)})},u))})]})}),o[r.id]&&e.jsx(M,{error:!0,children:o[r.id]})]},r.id);default:return e.jsxs(c,{sx:{mb:1},children:[e.jsx(l,{variant:"body2",sx:{mb:.5,fontWeight:500},children:r.label}),e.jsx(he,{fullWidth:!0,size:"small",type:r.type||"text",value:d[r.id]||"",onChange:s=>f(r.id,s.target.value),variant:"outlined",placeholder:r.placeholder||"",error:!!o[r.id],helperText:o[r.id],multiline:r.multiline,rows:r.rows||1,disabled:r.disabled,InputProps:{inputProps:{min:r.min,max:r.max,maxLength:r.maxLength||void 0},sx:{borderRadius:"8px"}}})]},r.id)}};return e.jsxs(Ce,{open:I,onClose:T,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:"8px",maxHeight:"80vh","& .MuiDialogContent-root":{overflowX:"hidden",padding:"12px","& .MuiBox-root":{marginBottom:"8px"}}}},children:[e.jsxs(c,{sx:{bgcolor:"#0455a2",color:"white",p:.75,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(l,{variant:"h6",sx:{fontWeight:600,fontSize:"1rem"},children:_}),e.jsx(q,{onClick:T,sx:{color:"white",p:.5},children:e.jsx(ve,{})})]}),e.jsxs("form",{onSubmit:ee,children:[e.jsx(Se,{sx:{p:1,"& .MuiBox-root":{mb:.75},"& .MuiTypography-root":{fontSize:"0.75rem",color:"#555",mb:.25,fontWeight:500},"& .MuiFormControl-root":{mb:.5,"& .MuiInputBase-root":{minHeight:"28px",fontSize:"0.75rem"}},"& .MuiTextField-root":{"& .MuiInputBase-root":{height:"30px",fontSize:"0.75rem"}},"& .MuiSelect-select":{height:"30px !important",minHeight:"30px !important",fontSize:"0.75rem",padding:"2px 8px"},"& .MuiFormControlLabel-root":{marginLeft:0,marginRight:0,minHeight:"30px"},"& .MuiFormControlLabel-label":{fontSize:"0.75rem"},"& .MuiFormHelperText-root":{marginTop:0,fontSize:"0.7rem"}},children:e.jsx(c,{children:v.filter(r=>r.id!=="programacion").map(r=>E(r))})}),e.jsxs(ke,{sx:{p:1,bgcolor:"#f5f5f5",gap:1},children:[e.jsx(C,{onClick:T,variant:"outlined",size:"small",sx:{borderRadius:"4px",px:2,py:.5,fontSize:"0.875rem",minHeight:"30px"},children:"Cancelar"}),e.jsxs(c,{sx:{m:.5,position:"relative"},children:[e.jsx(C,{type:"submit",variant:"contained",size:"small",disabled:$,sx:{borderRadius:"4px",px:2,py:.5,fontSize:"0.875rem",bgcolor:"#0455a2",minHeight:"30px"},children:N}),$&&e.jsx(Ie,{size:24,sx:{color:ze[500],position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px",zIndex:1}})]})]})]})]})};export{Ue as F,Qe as G};
